

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Introduction &mdash; dnacentersdk 0+unknown documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Quickstart" href="quickstart.html" />
    <link rel="prev" title="Installation" href="../installation.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> dnacentersdk
          

          
          </a>

          
            
            
              <div class="version">
                0+unknown
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#pip-install">PIP Install</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#pip-upgrade">PIP Upgrade</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#get-the-source-code">Get the Source Code</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#work-with-the-dna-center-apis-in-native-python">Work with the DNA Center APIs in Native Python!</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mit-license">MIT License</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dnacentersdk-license">dnacentersdk License</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#get-your-dna-center-access-token">Get your DNA Center Access Token</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#create-a-dnacenterapi-connection-object">Create a DNACenterAPI ‚ÄúConnection Object‚Äù</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#making-api-calls">Making API Calls</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#catching-exceptions">Catching Exceptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#working-with-returned-objects">Working with Returned Objects</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">User API Doc</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api.html#dnacenterapi">DNACenterAPI</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api.html#template-programmer">template_programmer</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.html#tag">tag</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.html#network-discovery">network_discovery</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.html#task">task</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.html#command-runner">command_runner</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.html#file">file</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.html#path-trace">path_trace</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.html#swim">swim</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.html#pnp">pnp</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.html#site-profile">site_profile</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.html#devices">devices</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.html#sites">sites</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.html#networks">networks</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.html#clients">clients</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.html#non-fabric-wireless">non_fabric_wireless</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.html#fabric-wired">fabric_wired</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api.html#exceptions">Exceptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#warnings">Warnings</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../code_of_conduct.html">Contributor Covenant Code of Conduct</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../code_of_conduct.html#our-pledge">Our Pledge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../code_of_conduct.html#our-standards">Our Standards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../code_of_conduct.html#our-responsibilities">Our Responsibilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../code_of_conduct.html#scope">Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../code_of_conduct.html#enforcement">Enforcement</a></li>
<li class="toctree-l2"><a class="reference internal" href="../code_of_conduct.html#attribution">Attribution</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#how-to-contribute-feedback-issues-thoughts-and-ideas">How to contribute Feedback, Issues, Thoughts and Ideas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#interested-in-contributing-code">Interested in Contributing Code?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../contributing.html#notes-on-the-test-suite">Notes on the Test Suite</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contributing.html#contributing-code-using-the-ci-automated-testing">Contributing Code - Using the CI Automated Testing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contributing.html#contributing-code-running-the-test-suite-locally">Contributing Code - Running the Test Suite Locally</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">dnacentersdk</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Introduction</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/intro.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="introduction">
<span id="id1"></span><h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¬∂</a></h1>
<div class="section" id="work-with-the-dna-center-apis-in-native-python">
<h2>Work with the DNA Center APIs in Native Python!<a class="headerlink" href="#work-with-the-dna-center-apis-in-native-python" title="Permalink to this headline">¬∂</a></h2>
<p>Sure, working with the DNA Center APIs is easy (see
<a class="reference external" href="https://developer.cisco.com/site/dna-center-rest-api/#">api_docs</a>).  They are RESTful,  naturally structured,
require only a simple Access Token for authentication, and the data is
elegantly represented in intuitive JSON.  What could be easier?</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">URL</span> <span class="o">=</span> <span class="s1">&#39;https://sandboxdnac.cisco.com:443/api/v1/network-device&#39;</span>
<span class="n">ACCESS_TOKEN</span> <span class="o">=</span> <span class="s1">&#39;&lt;your_access_token&gt;&#39;</span>
<span class="n">ROOM_ID</span> <span class="o">=</span> <span class="s1">&#39;&lt;room_id&gt;&#39;</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;X-Auth-Token&#39;</span><span class="p">:</span> <span class="n">ACCESS_TOKEN</span><span class="p">,</span>
           <span class="s1">&#39;Content-type&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json;charset=utf-8&#39;</span><span class="p">}</span>
<span class="n">params_data</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;family&#39;</span><span class="p">:</span> <span class="n">family</span> <span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">URL</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params_data</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
<span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">:</span>
    <span class="n">device_response</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">[</span><span class="s1">&#39;response&#39;</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">device_response</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;{:20s}{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">device</span><span class="p">[</span><span class="s1">&#39;hostname&#39;</span><span class="p">],</span> <span class="n">device</span><span class="p">[</span><span class="s1">&#39;upTime&#39;</span><span class="p">]))</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c1"># Oops something went wrong...  Better do something about it.</span>
    <span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
<p>Like I said, EASY.  However, in use, the code can become rather repetitive‚Ä¶</p>
<ul class="simple">
<li><p>You have to setup the environment every time</p></li>
<li><p>You have to remember URLs, request parameters and JSON formats
(or reference the docs)</p></li>
<li><p>You have to parse the returned JSON and work with multiple layers of list
and dictionary indexes</p></li>
</ul>
<p>Enter <strong>dnacentersdk</strong>, a simple API wrapper that wraps all of the DNA Center API
calls and returned JSON objects within native Python objects and methods.</p>
<p>With dnacentersdk, the above Python code can be consolidated to the following:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dnacentersdk</span> <span class="kn">import</span> <span class="n">api</span>

<span class="n">dnac</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">DNACenterAPI</span><span class="p">()</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">devices</span> <span class="o">=</span> <span class="n">dnac</span><span class="o">.</span><span class="n">devices</span><span class="o">.</span><span class="n">get_device_list</span><span class="p">(</span><span class="n">param_family</span><span class="o">=</span><span class="s1">&#39;Switches and Hubs&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">devices</span><span class="o">.</span><span class="n">response</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;{:20s}{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">hostname</span><span class="p">,</span> <span class="n">device</span><span class="o">.</span><span class="n">upTime</span><span class="p">))</span>
<span class="k">except</span> <span class="n">ApiError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>dnacentersdk handles all of this for you:</strong></p>
<ul>
<li><p>Reads your DNA Center access token from a <code class="docutils literal notranslate"><span class="pre">DNA_CENTER_ACCESS_TOKEN</span></code> environment
variable</p></li>
<li><p>Wraps and represents all DNA Center API calls as a simple hierarchical tree of
native-Python methods (with default arguments provided everywhere possible!)</p></li>
<li><p>If your Python IDE supports <strong>auto-completion</strong> (like <a class="reference external" href="https://www.jetbrains.com/pycharm/">PyCharm</a>), you can
navigate the available methods and object attributes right within your IDE</p></li>
<li><p>Represents all returned JSON objects as native Python objects - you can
access all of the object‚Äôs attributes using native <em>dot.syntax</em></p></li>
<li><p><strong>Automatic Rate-Limit Handling</strong>  Sending a lot of requests to DNA Center?
Don‚Äôt worry; we have you covered.  DNA Center will respond with a rate-limit
response, which will automatically be caught and ‚Äúhandled‚Äù for you.  Your
requests and script will automatically be ‚Äúpaused‚Äù for the amount of time
specified by DNA Center, while we wait for the DNA Center rate-limit timer to cool
down.  After the cool-down, your request will automatically be retried, and
your script will continue to run as normal.  Handling all of this requires
zero (0) changes to your code - you‚Äôre welcome.  üòé</p>
<p>Just know that if you are are sending a lot of requests, your script might
take longer to run if your requests are getting rate limited.</p>
</li>
</ul>
<p>All of this, combined, lets you do powerful things simply:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dnacentersdk</span> <span class="kn">import</span> <span class="n">api</span>

<span class="n">dnac</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">DNACenterAPI</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;devnetuser&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;Cisco123!&quot;</span><span class="p">)</span>

<span class="c1"># Find all devices that have &#39;Switches and Hubs&#39; in their family</span>
<span class="n">devices</span> <span class="o">=</span> <span class="n">dnac</span><span class="o">.</span><span class="n">devices</span><span class="o">.</span><span class="n">get_device_list</span><span class="p">(</span><span class="n">param_family</span><span class="o">=</span><span class="s1">&#39;Switches and Hubs&#39;</span><span class="p">)</span>

<span class="c1"># Print all of demo devices</span>
<span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">devices</span><span class="o">.</span><span class="n">response</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;{:20s}{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">hostname</span><span class="p">,</span> <span class="n">device</span><span class="o">.</span><span class="n">upTime</span><span class="p">))</span>

<span class="c1">#TODO: Add more examples.</span>
</pre></div>
</div>
<p>Head over to the <a class="reference internal" href="quickstart.html#quickstart"><span class="std std-ref">Quickstart</span></a> page to begin working with the
<strong>DNA Center APIs in native Python</strong>!</p>
</div>
<div class="section" id="mit-license">
<span id="mitlicense"></span><h2>MIT License<a class="headerlink" href="#mit-license" title="Permalink to this headline">¬∂</a></h2>
<p>dnacentersdk is currently licensed under the <a class="reference external" href="https://opensource.org/licenses/MIT">MIT Open Source License</a>, and
distributed as a source distribution (no binaries) via <a class="reference internal" href="../installation.html#install"><span class="std std-ref">PyPI</span></a>,
and the complete <a class="reference internal" href="../installation.html#source-code"><span class="std std-ref">source code</span></a> is available on GitHub.</p>
</div>
<div class="section" id="dnacentersdk-license">
<h2>dnacentersdk License<a class="headerlink" href="#dnacentersdk-license" title="Permalink to this headline">¬∂</a></h2>
<p>MIT License</p>
<p>Copyright (c) 2019 Cisco Systems</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the ‚ÄúSoftware‚Äù), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED ‚ÄúAS IS‚Äù, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.</p>
<p><em>Copyright (c) 2019 Cisco and/or its affiliates.</em></p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="quickstart.html" class="btn btn-neutral float-right" title="Quickstart" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../installation.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Copyright (c) 2019 Cisco and/or its affiliates.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>